{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/team/TeamMember.vue?6172","webpack:///src/views/team/TeamMember.vue","webpack:///./src/views/team/TeamMember.vue?10e3","webpack:///./src/views/team/TeamMember.vue","webpack:///./src/views/team/TeamMember.vue?88f8"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","memberInfo","prop","order","scopedSlots","_u","key","fn","scope","row","memberUrl","memberAvatar","memberUsername","_s","memberType","_e","userTypeInTeam","buttonType","nativeOn","$event","preventDefault","changeAdmin","$index","buttonText","userId","memberId","getAllApplication","confirmKickOff","dialogTableVisible","on","applicationInfo","url","avatar","username","judgeApplication","id","staticRenderFns","data","aboutTeam","methods","teamId","console","log","res","result","application","i","tmp","message","isAccept","params","type","cancelAdmin","index","setAdmin","$confirm","confirmButtonText","cancelButtonText","kickOff","mounted","$store","state","component"],"mappings":"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","file":"js/chunk-ff260344.a9340be1.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-main',{staticClass:\"teamMember\"},[_c('h2',[_vm._v(\"团队成员\")]),_c('el-table',{staticStyle:{\"width\":\"1000px\",\"margin\":\"auto auto\",\"border-radius\":\"20px\",\"box-shadow\":\"0 0 5px #b4bccc\",\"padding\":\"20px 30px 30px 30px\"},attrs:{\"height\":\"600\",\"data\":_vm.memberInfo,\"default-sort\":{prop: 'memberType', order: 'ascending'}}},[_c('el-table-column',{attrs:{\"label\":\"用户\",\"min-width\":\"40%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"underline\":false,\"href\":scope.row.memberUrl}},[_c('el-avatar',{attrs:{\"src\":scope.row.memberAvatar,\"alt\":scope.row.memberUsername}},[_vm._v(_vm._s(scope.row.memberUsername))]),_c('span',[_vm._v(_vm._s(scope.row.memberUsername))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"权限\",\"min-width\":\"30%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.memberType==0)?_c('div',[_vm._v(\"创建者\")]):(scope.row.memberType==1)?_c('div',[_vm._v(\"管理员\")]):(scope.row.memberType==2)?_c('div',[_vm._v(\"普通成员\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"30%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.userTypeInTeam == 0 && scope.row.memberType != 0)?_c('el-button',{attrs:{\"plain\":\"\",\"type\":scope.row.buttonType},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.changeAdmin(scope.$index, scope.row)}}},[_vm._v(_vm._s(scope.row.buttonText))]):_vm._e(),(scope.row.memberType<=1&&_vm.userId==scope.row.memberId)?_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\",\"round\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.getAllApplication()}}},[_vm._v(\"审核申请\")]):_vm._e(),(_vm.userTypeInTeam<scope.row.memberType)?_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.confirmKickOff(scope.$index, scope.row.memberId, scope.row.memberUsername)}}},[_vm._v(\"踢出团队\")]):_vm._e()]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"审核申请\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.applicationInfo}},[_c('el-table-column',{attrs:{\"label\":\"用户\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"underline\":false,\"href\":scope.row.url}},[_c('el-avatar',{attrs:{\"src\":scope.row.avatar,\"alt\":scope.row.username}},[_vm._v(_vm._s(scope.row.memberUsername))]),_c('span',[_vm._v(_vm._s(scope.row.username))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.judgeApplication(scope.$index, scope.row.id, true)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.judgeApplication(scope.$index, scope.row.id, false)}}},[_vm._v(\"拒绝\")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nTODO:\n未考虑管理员设置和取消后的页面表格变动问题\n-->\n\n<template>\n  <el-container>\n    <el-main class=\"teamMember\">\n      <h2>团队成员</h2>\n      <el-table\n        height=\"600\"\n        :data=\"memberInfo\"\n        style=\"width: 1000px;margin:auto auto;border-radius: 20px;box-shadow: 0 0 5px #b4bccc;padding: 20px 30px 30px 30px;\"\n        :default-sort=\"{prop: 'memberType', order: 'ascending'}\"\n      >\n        <el-table-column label=\"用户\" min-width=\"40%\">\n          <template slot-scope=\"scope\">\n            <el-link :underline=\"false\" :href=\"scope.row.memberUrl\">\n              <el-avatar :src=\"scope.row.memberAvatar\" :alt=\"scope.row.memberUsername\">{{scope.row.memberUsername}}</el-avatar>\n              <span>{{scope.row.memberUsername}}</span>\n            </el-link>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"权限\" min-width=\"30%\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.memberType==0\">创建者</div>\n            <div v-else-if=\"scope.row.memberType==1\">管理员</div>\n            <div v-else-if=\"scope.row.memberType==2\">普通成员</div>\n            <!-- <div v-else>ERROR</div> -->\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" min-width=\"30%\">\n          <template slot-scope=\"scope\">\n            <!-- <el-button\n              type=\"primary\"\n              plain\n              v-if=\"scope.row.memberType == 2 && userTypeInTeam == 0\"\n              @click.native.prevent=\"setAdmin(scope.$index, scope.row)\"\n            >设为管理员</el-button>\n\n            <el-button\n              type=\"warning\"\n              plain\n              v-if=\"scope.row.memberType == 1 && userTypeInTeam == 0\"\n              @click.native.prevent=\"cancelAdmin(scope.$index, scope.row)\"\n            >取消管理员</el-button>-->\n            <el-button\n              v-if=\"userTypeInTeam == 0 && scope.row.memberType != 0\"\n              plain\n              :type=\"scope.row.buttonType\"\n              @click.native.prevent=\"changeAdmin(scope.$index, scope.row)\"\n            >{{scope.row.buttonText}}</el-button>\n\n            <el-button\n              type=\"success\"\n              plain\n              round\n              v-if=\"scope.row.memberType<=1&&userId==scope.row.memberId\"\n              @click.native.prevent=\"getAllApplication()\"\n            >审核申请</el-button>\n\n            <el-button\n              type=\"danger\"\n              plain\n              v-if=\"userTypeInTeam<scope.row.memberType\"\n              @click.native.prevent=\"confirmKickOff(scope.$index, scope.row.memberId, scope.row.memberUsername)\"\n            >踢出团队</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog title=\"审核申请\" :visible.sync=\"dialogTableVisible\">\n        <el-table :data=\"applicationInfo\">\n          <el-table-column label=\"用户\" width=\"350\">\n            <template slot-scope=\"scope\">\n              <el-link :underline=\"false\" :href=\"scope.row.url\">\n                <el-avatar :src=\"scope.row.avatar\" :alt=\"scope.row.username\">{{scope.row.memberUsername}}</el-avatar>\n                <span>{{scope.row.username}}</span>\n              </el-link>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"350\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"primary\"\n                plain\n                @click.native.prevent=\"judgeApplication(scope.$index, scope.row.id, true)\"\n              >通过</el-button>\n\n              <el-button\n                type=\"warning\"\n                plain\n                @click.native.prevent=\"judgeApplication(scope.$index, scope.row.id, false)\"\n              >拒绝</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-dialog>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport {\n  GetTeamMember,\n  generateUserUrl,\n  SetAdmin,\n  CancelAdmin,\n  GetAllApplication,\n  JudgeApplication,\n  KickOff,\n  GetUserInfo,\n} from \"../../main\";\n\nexport default {\n  data() {\n    return {\n      dialogTableVisible: false,\n      aboutTeam: {\n        // teamName: \"Topaz Team\", // for test\n        // teamId: \"123\",\n        // creatorId: \"19260817\",\n        // teamInfo: \"955团队\",\n      },\n      userId: \"\",\n      userTypeInTeam: 2, //  0 创建者，1 管理员，2 成员\n      applicationInfo: [],\n      memberInfo: [\n        // {\n        //   memberId: \"1\",\n        //   memberUrl: \"https://www.google.com\",\n        //   memberUsername: \"谷歌\",\n        //   memberType: 0,\n        //   memberAvatar: \"https://i.loli.net/2020/08/11/qSLd3msVgwRlZaj.png\",\n        // },\n        // {\n        //   memberId: \"2\",\n        //   memberUrl: \"https://www.bing.com\",\n        //   memberUsername: \"必应\",\n        //   memberType: 1,\n        //   memberAvatar: \"https://i.loli.net/2020/08/11/RgaFXCAEDI62mfP.png\",\n        // },\n        // {\n        //   memberId: \"3\",\n        //   memberUrl: \"https://www.duckduckgo.com\",\n        //   memberUsername: \"鸭鸭走\",\n        //   memberType: 1,\n        //   memberAvatar: \"https://i.loli.net/2020/08/11/UnM3fR6DxVG4ATo.png\",\n        // },\n        // {\n        //   memberId: \"5\",\n        //   memberUrl: \"https://www.sogou.com\",\n        //   memberUsername: \"搜狗\",\n        //   memberType: 2,\n        //   memberAvatar: \"https://i.loli.net/2020/08/11/wTIekN52t1xEqQc.png\",\n        // },\n        // {\n        //   memberId: \"4\",\n        //   memberUrl: \"https://www.baidu.com\",\n        //   memberUsername: \"百度\",\n        //   memberType: 2,\n        //   memberAvatar: \"https://i.loli.net/2020/08/11/sqywvkrAh9JY5od.png\",\n        // },\n      ], // memberType: 0 创建者，1 管理员，2 成员\n    };\n  },\n  methods: {\n    getAllApplication() {\n      this.dialogTableVisible = true;\n      let params = {\n        teamId: this.aboutTeam.teamId,\n      };\n      GetAllApplication(params).then((res) => {\n        console.log(res.data);\n        if (res.data.result == true) {\n          this.applicationInfo.splice(0, this.applicationInfo.length);\n          var length = res.data.application.length;\n          for (var i = 0; i < length; i++) {\n            var tmp = res.data.application[i];\n            this.applicationInfo.push({\n              id: tmp.id,\n              url: generateUserUrl(tmp.id),\n              username: tmp.username,\n              avatar: tmp.avatar,\n            });\n          }\n        } else {\n          this.$message.error({\n            message: \"获取申请失败，请稍后再试\",\n          });\n        }\n      });\n      // for test\n      /*this.applicationInfo.push({\n        id: \"12\",\n        url: \"www.bilibili.com\",\n        username: \"bilibili\",\n        avatar: \"https://i.loli.net/2020/08/11/8u6PdLt9vyCaUcX.png\",\n      });\n      this.applicationInfo.push({\n        id: \"11\",\n        url: \"www.acfun.cn\",\n        username: \"acfun\",\n        avatar: \"https://i.loli.net/2020/08/11/Rqm3hEG6bnHLsd4.png\",\n      });*/\n      // for test\n    },\n\n    judgeApplication(index, id, isAccept) {\n      let params = {\n        teamId: this.aboutTeam.teamId,\n        id: id,\n        isAccept: isAccept == true ? \"true\" : \"false\",\n      };\n      console.log(\"JudgeApplication.params: \" + params);\n      JudgeApplication(params).then((res) => {\n        if (res.data.result == true) {\n          this.$message({\n            type: \"success\",\n            message:\n              params.isAccept === \"true\" ? \"成功通过申请\" : \"成功拒绝申请\",\n          });\n          // this.$router.go(0);\n          if (params.isAccept === \"true\") {\n            GetUserInfo({ id: id }).then((res) => {\n              this.memberInfo.push({\n                memberId: id,\n                memberUrl: generateUserUrl(id),\n                memberUsername: res.data.username,\n                memberType: 2,\n                memberAvatar: res.data.avatar,\n                buttonType: \"primary\",\n                buttonText: \"设为管理员\",\n              });\n            });\n          }\n          this.applicationInfo.splice(index, 1);\n        } else {\n          this.$message.error({\n            message: \"审核失败，请稍后再试\",\n          });\n        }\n      });\n    },\n\n    changeAdmin(index, row) {\n      if (row.memberType == 1) this.cancelAdmin(index, row);\n      else this.setAdmin(index, row);\n    },\n\n    setAdmin(index, row) {\n      console.log(row.memberId + \" is set as Admin.\");\n      let params = {\n        teamId: this.aboutTeam.teamId,\n        id: row.memberId,\n      };\n      SetAdmin(params).then((res) => {\n        if (res.data.result == true) {\n          this.$message({\n            type: \"success\",\n            message: \"管理员设置成功\",\n          });\n          this.memberInfo.splice(index, 1, {\n            memberId: row.memberId,\n            memberUrl: row.memberUrl,\n            memberUsername: row.memberUsername,\n            memberType: 1,\n            memberAvatar: row.memberAvatar,\n            buttonType: \"warning\",\n            buttonText: \"取消管理员\",\n          });\n        } else {\n          this.$message.error({\n            message: \"管理员设置失败，请稍后再试\",\n          });\n        }\n      });\n    },\n\n    cancelAdmin(index, row) {\n      console.log(row.memberId + \" is cancelled.\");\n      let params = {\n        teamId: this.aboutTeam.teamId,\n        id: row.memberId,\n      };\n      CancelAdmin(params).then((res) => {\n        if (res.data.result == true) {\n          this.$message({\n            type: \"success\",\n            message: \"管理员取消成功\",\n          });\n          this.memberInfo.splice(index, 1, {\n            memberId: row.memberId,\n            memberUrl: row.memberUrl,\n            memberUsername: row.memberUsername,\n            memberType: 2,\n            memberAvatar: row.memberAvatar,\n            buttonType: \"primary\",\n            buttonText: \"设为管理员\",\n          });\n        } else {\n          this.$message.error({\n            message: \"管理员取消失败，请稍后再试\",\n          });\n        }\n      });\n    },\n\n    confirmKickOff(index, id, username) {\n      this.$confirm(\"确定要将\" + username + \"踢出团队吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.kickOff(index, id);\n        })\n        .catch(() => {});\n    },\n\n    kickOff(index, id) {\n      console.log(id + \" is kicked off.\");\n      let params = {\n        teamId: this.aboutTeam.teamId,\n        id: id,\n      };\n      KickOff(params).then((res) => {\n        if (res.data.result == true) {\n          this.$message({\n            type: \"success\",\n            message: \"踢出成员成功\",\n          });\n          this.memberInfo.splice(index, 1);\n        } else {\n          this.$message.error({\n            message: \"踢出成员失败，请稍后再试\",\n          });\n        }\n      });\n    },\n  },\n\n  mounted() {\n    this.userId = this.$store.state.userId;\n    this.aboutTeam.teamId = this.$store.state.teamId;\n    let params = {\n      teamId: this.aboutTeam.teamId,\n    };\n    GetTeamMember(params).then((res) => {\n      if (res.data.result == true) {\n        for (let i = 0; i < res.data.memberInfo.length; i++) {\n          this.memberInfo.push({});\n          this.memberInfo[i].memberId = res.data.memberInfo[i].memberId;\n          this.memberInfo[i].memberUrl = generateUserUrl(\n            this.memberInfo[i].memberId\n          );\n          this.memberInfo[i].memberUsername =\n            res.data.memberInfo[i].memberUsername;\n          this.memberInfo[i].memberType = parseInt(\n            res.data.memberInfo[i].memberType\n          );\n          this.memberInfo[i].memberAvatar = res.data.memberInfo[i].memberAvatar;\n          if (this.memberInfo[i].memberId === this.$store.state.userId)\n            this.userTypeInTeam = this.memberInfo[i].memberType;\n        }\n        if (this.userTypeInTeam == 0) {\n          for (let i = 0; i < this.memberInfo.length; i++) {\n            if (this.memberInfo[i].memberType == 1) {\n              this.memberInfo[i].buttonText = \"取消管理员\";\n              this.memberInfo[i].buttonType = \"warning\";\n            } else if (this.memberInfo[i].memberType == 2) {\n              this.memberInfo[i].buttonText = \"设为管理员\";\n              this.memberInfo[i].buttonType = \"primary\";\n            }\n          }\n        }\n      } else {\n        this.$message.error({\n          message: \"无法获取团队成员\",\n        });\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n.teamMember {\n  margin: auto auto;\n}\n\nspan {\n  margin-left: 10px;\n  vertical-align: middle;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamMember.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamMember.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TeamMember.vue?vue&type=template&id=9c5a66b0&scoped=true&\"\nimport script from \"./TeamMember.vue?vue&type=script&lang=js&\"\nexport * from \"./TeamMember.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TeamMember.vue?vue&type=style&index=0&id=9c5a66b0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c5a66b0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamMember.vue?vue&type=style&index=0&id=9c5a66b0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeamMember.vue?vue&type=style&index=0&id=9c5a66b0&scoped=true&lang=css&\""],"sourceRoot":""}