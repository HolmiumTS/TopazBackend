{"version":3,"sources":["webpack:///./src/views/home/RecentFile.vue?0fa5","webpack:///./src/views/home/RecentFile.vue?f9b4","webpack:///src/views/home/RecentFile.vue","webpack:///./src/views/home/RecentFile.vue?c1be","webpack:///./src/views/home/RecentFile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","_l","disFiles","key","id","dFile","staticClass","fileIcon","_v","_s","name","username","time","collected","_e","slot","nativeOn","$event","preventDefault","browseFile","collectFile","class","cheakOwnerAuth","ShowAuthorizeDialog","templateFile","deleteFile","files","length","showAuthorizeDialog","on","model","value","callback","$$v","viewAuth","expression","selectFileTeam","editAuth","editAuthCheck","authorizeFile","staticRenderFns","data","rowWidth","selectFileId","displayFiles","computed","methods","file","owner","$store","state","userId","edit","$router","push","path","query","docId","i","view","team","res","result","console","log","params","type","message","mounted","component"],"mappings":"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","file":"js/chunk-2a76360e.31b37f4a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentFile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentFile.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('table',{staticStyle:{\"margin\":\"-20px\"},attrs:{\"cellspacing\":\"20\"}},_vm._l((_vm.displayFiles),function(disFiles){return _c('tr',{key:disFiles[0].id},_vm._l((disFiles),function(dFile){return _c('td',{key:dFile.id},[_c('el-card',{staticClass:\"cardFile\",attrs:{\"dFile\":dFile,\"shadow\":\"always\"}},[_c('el-row',{staticClass:\"cardRow\"},[_c('el-col',{staticStyle:{\"margin\":\"0% 10%\"},attrs:{\"span\":1}},[_c('el-image',{staticStyle:{\"width\":\"60px\",\"height\":\"60px\"},attrs:{\"src\":_vm.fileIcon}})],1),_c('el-col',{staticStyle:{\"margin\":\"px\"},attrs:{\"span\":13}},[_c('div',{staticStyle:{\"font-size\":\"100%\",\"margin\":\"0px 0px 5px 0px\"},attrs:{\"align\":\"left\"}},[_vm._v(_vm._s(dFile.name))]),_c('div',{staticStyle:{\"font-size\":\"60%\",\"margin\":\"0px 0px 5px 0px\"},attrs:{\"align\":\"left\"}},[_vm._v(_vm._s(\"创建者: \"+dFile.username))]),_c('div',{staticStyle:{\"font-size\":\"50%\",\"color\":\"#B3B3B3\",\"margin\":\"0px 0px 5px 0px\"},attrs:{\"align\":\"left\"}},[_vm._v(_vm._s(\"最后编辑于: \"+dFile.time))])]),_c('el-col',{attrs:{\"span\":1}},[(dFile.collected=='已收藏')?_c('i',{staticClass:\"el-icon-star-on\"}):_vm._e(),(dFile.collected!='已收藏')?_c('i',{staticClass:\"el-icon-collection-tag\",staticStyle:{\"color\":\"rgba(255,255,255,0)\"}}):_vm._e()]),_c('el-col',{attrs:{\"span\":1,\"offset\":1}},[_c('el-dropdown',{attrs:{\"placement\":\"bottom-end\"}},[_c('i',{staticClass:\"el-icon-more\"}),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.browseFile(dFile.id)}}},[_c('i',{staticClass:\"el-icon-search\"}),_c('span',[_vm._v(\"浏览\")])]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.collectFile(dFile.id)}}},[_c('i',{class:dFile.collected=='已收藏'?'el-icon-star-on':'el-icon-star-off'}),(dFile.collected=='已收藏')?_c('span',[_vm._v(\"已收藏\")]):_vm._e(),(dFile.collected!='已收藏')?_c('span',[_vm._v(\"收藏\")]):_vm._e()]),(_vm.cheakOwnerAuth(dFile))?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.ShowAuthorizeDialog(dFile.id)}}},[_c('i',{staticClass:\"el-icon-s-tools\"}),_c('span',[_vm._v(\"管理权限\")])]):_vm._e(),(_vm.cheakOwnerAuth(dFile))?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.templateFile(dFile.id)}}},[_c('i',{staticClass:\"el-icon-s-tools\",staticStyle:{\"color\":\"rgba(255,255,255,0)\"}}),_c('span',[_vm._v(\"存为模板\")])]):_vm._e(),(_vm.cheakOwnerAuth(dFile))?_c('el-dropdown-item',{attrs:{\"divided\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteFile(dFile.id)}}},[_c('i',{staticClass:\"el-icon-star-off\",staticStyle:{\"color\":\"rgba(255,255,255,0)\"}}),_c('span',[_vm._v(\"删除\")])]):_vm._e()],1)],1)],1)],1)],1)],1)}),0)}),0),(_vm.files.length<1)?_c('div',{staticStyle:{\"margin\":\"20% auto\"}},[_c('div',{staticStyle:{\"font-size\":\"500%\",\"color\":\"#999999\"}},[_vm._v(\"無\")]),_c('div',{staticStyle:{\"font-size\":\"80%\",\"color\":\"#999999\"}},[_vm._v(\"没有文件\")])]):_vm._e(),_c('el-dialog',{attrs:{\"visible\":_vm.showAuthorizeDialog,\"title\":\"管理文档权限\",\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.showAuthorizeDialog=$event}}},[_c('p',{attrs:{\"align\":\"left\"}},[_c('span',[_c('h4',[_vm._v(\"浏览:\")])]),_c('el-radio-group',{model:{value:(_vm.viewAuth),callback:function ($$v) {_vm.viewAuth=$$v},expression:\"viewAuth\"}},[(_vm.selectFileTeam=='-1')?_c('el-radio',{attrs:{\"label\":'0'}},[_vm._v(\"仅创建者\")]):_vm._e(),(_vm.selectFileTeam!='-1')?_c('el-radio',{attrs:{\"label\":'0'}},[_vm._v(\"文档所在团队成员\")]):_vm._e(),_c('el-radio',{attrs:{\"label\":'1'}},[_vm._v(\"所有人\")])],1)],1),_c('p',{attrs:{\"align\":\"left\"}},[_c('span',[_c('h4',[_vm._v(\"编辑:\")])]),_c('el-radio-group',{model:{value:(_vm.editAuth),callback:function ($$v) {_vm.editAuth=$$v},expression:\"editAuth\"}},[_c('el-radio',{attrs:{\"label\":'0',\"disabled\":_vm.editAuthCheck('0')}},[_vm._v(\"仅创建者\")]),_c('el-radio',{attrs:{\"label\":'1',\"disabled\":_vm.editAuthCheck('1')}},[_vm._v(\"文档所在团队成员\")]),_c('el-radio',{attrs:{\"label\":'2',\"disabled\":_vm.editAuthCheck('2')}},[_vm._v(\"所有人\")])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.authorizeFile($event)}}},[_vm._v(\"确认\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-main>\n    <!--\n    <el-table\n      :data=\"files\"\n      :default-sort=\"{prop: 'id', order: 'ascending'}\"\n      style=\"width:90%;margin: auto auto\"\n    >\n      <el-table-column min-width=\"10%\" label=\"文档编号\" prop=\"id\" sortable></el-table-column>\n      <el-table-column min-width=\"15%\" label=\"文档名\" prop=\"name\" sortable></el-table-column>\n      <el-table-column min-width=\"10%\" label=\"创建者\" prop=\"username\" sortable></el-table-column>\n      <el-table-column min-width=\"50%\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            v-if=\"scope.row.collected =='已收藏'\"\n            type=\"warning\"\n            icon=\"el-icon-star-off\"\n            @click.native.prevent=\"handleCollect(scope.row.id)\"\n            circle\n            plain\n            size=\"medium\"\n          ></el-button>\n          <el-button\n            v-if=\"scope.row.collected !='已收藏'\"\n            icon=\"el-icon-star-off\"\n            @click.native.prevent=\"handleCollect(scope.row.id)\"\n            circle\n            plain\n            size=\"medium\"\n          ></el-button>\n          <el-button\n            icon=\"el-icon-view\"\n            type=\"info\"\n            @click.native.prevent=\"browseFile(scope.row.id)\"\n            round\n            size=\"medium\"\n            plain\n          ></el-button>\n          <el-button\n            icon=\"el-icon-s-operation\"\n            type=\"primary\"\n            @click.native.prevent=\"manageAuthority(scope.row.id)\"\n            circle\n            size=\"medium\"\n            plain\n          ></el-button>\n          <el-button\n            icon=\"el-icon-delete\"\n            type=\"danger\"\n            @click.native.prevent=\"deleteFile(scope.row.id)\"\n            circle\n            size=\"medium\"\n            plain\n          ></el-button>\n          <el-button\n            icon=\"el-icon-share\"\n            type=\"success\"\n            @click.native.prevent=\"shareFile(scope.row.id)\"\n            circle\n            size=\"medium\"\n            plain\n          ></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    -->\n    <table cellspacing=\"20\" style=\"margin: -20px\">\n      <tr v-for=\"disFiles in displayFiles\" :key=\"disFiles[0].id\">\n        <td v-for=\"dFile in disFiles\" :key=\"dFile.id\">\n          <el-card class=\"cardFile\" :dFile=\"dFile\" shadow=\"always\">\n            <el-row class=\"cardRow\">\n              <el-col :span=\"1\" style=\"margin: 0% 10%\">\n                <el-image style=\"width:60px;height:60px\" :src=\"fileIcon\"></el-image>\n              </el-col>\n              <el-col :span=\"13\" style=\"margin: px\">\n                <div align=\"left\" style=\"font-size: 100%;margin:0px 0px 5px 0px;\">{{dFile.name}}</div>\n                <div\n                  align=\"left\"\n                  style=\"font-size: 60%;margin:0px 0px 5px 0px;\"\n                >{{\"创建者: \"+dFile.username}}</div>\n                <div\n                  align=\"left\"\n                  style=\"font-size: 50%;color:#B3B3B3;margin:0px 0px 5px 0px;\"\n                >{{\"最后编辑于: \"+dFile.time}}</div>\n              </el-col>\n              <el-col :span=\"1\">\n                <i v-if=\"dFile.collected=='已收藏'\" class=\"el-icon-star-on\"></i>\n                <i\n                  v-if=\"dFile.collected!='已收藏'\"\n                  class=\"el-icon-collection-tag\"\n                  style=\"color:rgba(255,255,255,0)\"\n                ></i>\n              </el-col>\n              <el-col :span=\"1\" :offset=\"1\">\n                <el-dropdown placement=\"bottom-end\">\n                  <i class=\"el-icon-more\"></i>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item @click.native.prevent=\"browseFile(dFile.id)\">\n                      <i class=\"el-icon-search\"></i>\n                      <span>浏览</span>\n                    </el-dropdown-item>\n                    <el-dropdown-item @click.native.prevent=\"collectFile(dFile.id)\">\n                      <i :class=\"dFile.collected=='已收藏'?'el-icon-star-on':'el-icon-star-off'\"></i>\n                      <span v-if=\"dFile.collected=='已收藏'\">已收藏</span>\n                      <span v-if=\"dFile.collected!='已收藏'\">收藏</span>\n                    </el-dropdown-item>\n                    <el-dropdown-item\n                      @click.native.prevent=\"ShowAuthorizeDialog(dFile.id)\"\n                      v-if=\"cheakOwnerAuth(dFile)\"\n                    >\n                      <i class=\"el-icon-s-tools\"></i>\n                      <span>管理权限</span>\n                    </el-dropdown-item>\n                    <el-dropdown-item\n                      @click.native.prevent=\"templateFile(dFile.id)\"\n                      v-if=\"cheakOwnerAuth(dFile)\"\n                    >\n                      <i class=\"el-icon-s-tools\" style=\"color:rgba(255,255,255,0)\"></i>\n                      <span>存为模板</span>\n                    </el-dropdown-item>\n                    <el-dropdown-item\n                      divided\n                      @click.native.prevent=\"deleteFile(dFile.id)\"\n                      v-if=\"cheakOwnerAuth(dFile)\"\n                    >\n                      <i class=\"el-icon-star-off\" style=\"color:rgba(255,255,255,0)\"></i>\n                      <span>删除</span>\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n              </el-col>\n            </el-row>\n          </el-card>\n        </td>\n      </tr>\n    </table>\n    <div v-if=\"files.length<1\" style=\"margin:20% auto\">\n      <div style=\"font-size:500%;color:#999999\">無</div>\n      <div style=\"font-size:80%;color:#999999\">没有文件</div>\n    </div>\n    <el-dialog :visible.sync=\"showAuthorizeDialog\" title=\"管理文档权限\" width=\"400px\">\n      <p align=\"left\">\n        <span>\n          <h4>浏览:</h4>\n        </span>\n        <el-radio-group v-model=\"viewAuth\">\n          <el-radio :label=\"'0'\" v-if=\"selectFileTeam=='-1'\">仅创建者</el-radio>\n          <el-radio :label=\"'0'\" v-if=\"selectFileTeam!='-1'\">文档所在团队成员</el-radio>\n          <el-radio :label=\"'1'\">所有人</el-radio>\n        </el-radio-group>\n      </p>\n      <p align=\"left\">\n        <span>\n          <h4>编辑:</h4>\n        </span>\n        <el-radio-group v-model=\"editAuth\">\n          <el-radio :label=\"'0'\" :disabled=\"editAuthCheck('0')\">仅创建者</el-radio>\n          <el-radio :label=\"'1'\" :disabled=\"editAuthCheck('1')\">文档所在团队成员</el-radio>\n          <el-radio :label=\"'2'\" :disabled=\"editAuthCheck('2')\">所有人</el-radio>\n        </el-radio-group>\n      </p>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click.native.prevent=\"authorizeFile\">确认</el-button>\n      </div>\n    </el-dialog>\n  </el-main>\n</template>\n<script>\nimport { GetRecentFile } from \"../../main\";\nimport {\n  CollectFile,\n  AuthorizeFile,\n  DeleteFile,\n  TemplateFile,\n} from \"../../main\";\nexport default {\n  data() {\n    return {\n      fileIcon:\n        \"http://qexiy12gt.hd-bkt.clouddn.com/%E6%96%87%E6%A1%A3%E5%9B%BE%E6%A0%87.png\",\n      rowWidth: 3,\n      showAuthorizeDialog: false,\n      viewAuth: null,\n      editAuth: null,\n      selectFileId: null,\n      selectFileTeam: null,\n      displayFiles: [],\n      files: [],\n      /*files: [\n        {\n          id: \"001\",\n          name: \"testfile1\",\n          username: \"张三\",\n          team: \"-1\",\n          collected: \"已收藏\",\n          time: \"08/14 13:23\",\n          view: \"0\",\n          edit: \"0\",\n        },\n        {\n          id: \"002\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"001\",\n          collected: \"未收藏\",\n          time: \"08/14 13:23\",\n          view: \"1\",\n          edit: \"1\",\n        },\n        {\n          id: \"003\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"002\",\n          collected: \"已收藏\",\n          time: \"08/14 13:23\",\n          view: \"1\",\n          edit: \"2\",\n        },\n        {\n          id: \"004\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"-1\",\n          collected: \"已收藏\",\n          time: \"08/14 13:23\",\n          view: \"0\",\n          edit: \"0\",\n        },\n        {\n          id: \"005\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"-1\",\n          collected: \"未收藏\",\n          time: \"08/14 13:23\",\n          view: \"1\",\n          edit: \"1\",\n        },\n        {\n          id: \"006\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"-1\",\n          collected: \"未收藏\",\n          time: \"08/14 13:23\",\n          view: \"1\",\n          edit: \"2\",\n        },\n        {\n          id: \"007\",\n          name: \"testfile2\",\n          username: \"张三\",\n          team: \"-1\",\n          collected: \"已收藏\",\n          time: \"08/14 13:23\",\n          view: \"0\",\n          edit: \"0\",\n        },\n      ],*/\n    };\n  },\n  computed: {},\n  methods: {\n    cheakOwnerAuth(file) {\n      return file.owner == this.$store.state.userId;\n    },\n    editAuthCheck(edit) {\n      if (this.selectFileTeam == \"-1\") {\n        if (this.viewAuth == \"0\" && edit != \"0\") {\n          this.editAuth = \"0\";\n          return true;\n        }\n      } else {\n        if (this.viewAuth == \"0\" && edit == \"2\") {\n          if (this.editAuth == \"2\") {\n            this.editAuth = \"1\";\n          }\n          return true;\n        }\n      }\n      return false;\n    },\n    collectFile(id) {\n      CollectFile({ userId: this.$store.state.userId, fileId: id }).then(\n        (res) => {\n          if (res.data.result == true) {\n            console.log(\"collectFile_Succeed: \" + id);\n            this.$message({\n              type: \"success\",\n              message: \"收藏成功\",\n            });\n            this.$router.go(0);\n          } else {\n            console.log(\"collectFile_Failed: \" + id);\n            this.$message.error({\n              message: \"收藏失败\",\n            });\n          }\n        }\n      );\n    },\n    browseFile(id) {\n      this.$router.push({\n        path: \"/docBrowse\",\n        query: {\n          docId: id,\n        },\n      });\n    },\n    ShowAuthorizeDialog(id) {\n      for (let i = 0; i < this.files.length; i++) {\n        if (this.files[i].id == id) {\n          this.viewAuth = this.files[i].view;\n          this.editAuth = this.files[i].edit;\n          this.selectFileTeam = this.files[i].team;\n          this.selectFileId = this.files[i].id;\n        }\n      }\n      this.showAuthorizeDialog = true;\n    },\n    authorizeFile(id) {\n      let params = {\n        id: this.selectFileId,\n        view: this.viewAuth,\n        edit: this.editAuth,\n      };\n      AuthorizeFile(params).then((res) => {\n        if (res.data.result == true) {\n          console.log(\"authFile_Succeed: \" + params);\n          this.$message({\n            type: \"success\",\n            message: \"修改成功\",\n          });\n          this.$router.go(0);\n        } else {\n          console.log(\"authFile_Failed: \" + params);\n          this.$message.error({\n            message: \"收藏失败\",\n          });\n        }\n      });\n    },\n    templateFile(id) {\n      TemplateFile({ userId: this.$store.state.userId, fileId: id }).then(\n        (res) => {\n          if (res.data.result == true) {\n            console.log(\"templateFile_Succeed: \" + id);\n            this.$message({\n              type: \"success\",\n              message: \"模板保存成功\",\n            });\n            this.$router.go(0);\n          } else {\n            console.log(\"templateFile_Failed: \" + id);\n            this.$message.error({\n              message: \"模板保存失败\",\n            });\n          }\n        }\n      );\n    },\n    deleteFile(id) {\n      DeleteFile({ userId: this.$store.state.userId, fileId: id }).then(\n        (res) => {\n          if (res.data.result == true) {\n            console.log(\"deleteFile_Succeed: \" + id);\n            this.$message({\n              type: \"success\",\n              message: \"删除成功\",\n            });\n            this.$router.go(0);\n          } else {\n            console.log(\"deleteFile_Failed: \" + id);\n            this.$message.error({\n              message: \"删除失败\",\n            });\n          }\n        }\n      );\n    },\n  },\n  mounted() {\n    GetRecentFile({ id: this.$store.state.userId }).then((res) => {\n      this.files = res.data.files;\n      for (let i = 0; i < this.files.length; ) {\n        //this.displayFiles[parseInt(i / this.rowWidth)] = [];\n        this.$set(this.displayFiles, parseInt(i / this.rowWidth), []);\n        for (let j = 0; j < this.rowWidth && i < this.files.length; j++) {\n          //this.displayFiles[parseInt(i / this.rowWidth)][j] = this.files[i];\n          this.$set(\n            this.displayFiles[parseInt(i / this.rowWidth)],\n            j,\n            this.files[i]\n          );\n          i++;\n        }\n      }\n    });\n    /*for (let i = 0; i < this.files.length; ) {\n      //this.displayFiles[parseInt(i / this.rowWidth)] = [];\n      this.$set(this.displayFiles, parseInt(i / this.rowWidth), []);\n      for (let j = 0; j < this.rowWidth && i < this.files.length; j++) {\n        //this.displayFiles[parseInt(i / this.rowWidth)][j] = this.files[i];\n        this.$set(\n          this.displayFiles[parseInt(i / this.rowWidth)],\n          j,\n          this.files[i]\n        );\n        i++;\n      }\n    }*/\n    console.log(\"displayFiles\");\n    console.log(this.displayFiles);\n  },\n};\n</script>\n<style>\n.cardFile {\n  height: 80px;\n  width: 500px;\n  background-color: #fcfcfc;\n  border: white;\n}\n.cardRow {\n  margin: -50px;\n}\n.el-dialog {\n  border-radius: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecentFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecentFile.vue?vue&type=template&id=764a3f0e&\"\nimport script from \"./RecentFile.vue?vue&type=script&lang=js&\"\nexport * from \"./RecentFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecentFile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}