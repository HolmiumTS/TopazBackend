(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17639336"],{"46bd":function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-main",[r("el-form",{ref:"LoginForm",staticClass:"login-form",attrs:{model:e.LoginForm,rules:e.rule,"label-width":"0px"}},[r("h2",[e._v("登录")]),r("el-form-item",{attrs:{prop:"user"}},[r("el-input",{attrs:{type:"text",placeholder:"账号、邮箱或手机"},model:{value:e.LoginForm.user,callback:function(t){e.$set(e.LoginForm,"user",t)},expression:"LoginForm.user"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}})],1),r("el-form-item",[r("el-button",{staticClass:"submitBtn",attrs:{type:"danger",round:"",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("登录")]),r("el-button",{staticClass:"resetBtn",attrs:{type:"primary",round:""},nativeOn:{click:function(t){return t.preventDefault(),e.toRegister(t)}}},[e._v("注册")])],1)],1)],1)],1)},s=[],a=r("56d7"),n={data:function(){return{LoginForm:{},loading:!1,rule:{user:[{required:!0,message:"账号、邮箱或手机不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.LoginForm.validate((function(t){if(t){e.loading=!0;var r=e.LoginForm;Object(a["Login"])(r).then((function(t){e.loading=!1,1==t.data.result?(e.$message({type:"success",message:"登录成功"}),console.log("logining"),console.log(t.data.id),console.log(t.data.username),console.log(t.data.avatar),e.$store.dispatch("commitLogin",{userId:t.data.id,username:t.data.username,avatar:t.data.avatar}),e.$router.push("/home")):0==t.data.result?e.$message.error({message:"账号、手机号或密码错误"}):e.$message.error({message:"登录失败，请稍后再试"})}))}}))},toRegister:function(){this.$router.push("/register")}}},i=n,l=(r("b811"),r("2877")),u=Object(l["a"])(i,o,s,!1,null,"70996cd0",null);t["default"]=u.exports},b811:function(e,t,r){"use strict";var o=r("46bd"),s=r.n(o);s.a}}]);
//# sourceMappingURL=chunk-17639336.cee91a6a.js.map