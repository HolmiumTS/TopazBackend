(function(e){function t(t){for(var a,r,i=t[0],l=t[1],u=t[2],c=0,m=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={app:0},o={app:0},s=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-17639336":"cee91a6a","chunk-1d804da2":"55f34b29","chunk-22e8dd4a":"79ed35fe","chunk-2608e303":"c172d991","chunk-2a76360e":"31b37f4a","chunk-2d0a47fe":"aaf27753","chunk-2d21a3d2":"4422039f","chunk-68eb5523":"45e9f7c3","chunk-7b896ff4":"1926924c","chunk-896bcf10":"f48ccd82","chunk-1a6ac3c0":"643e1393","chunk-739b3061":"6b4e44e0","chunk-97dc81f0":"85e606d5","chunk-dbeb75fc":"13f6b091","chunk-ff260344":"a9340be1"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-17639336":1,"chunk-1d804da2":1,"chunk-22e8dd4a":1,"chunk-2608e303":1,"chunk-2a76360e":1,"chunk-68eb5523":1,"chunk-7b896ff4":1,"chunk-1a6ac3c0":1,"chunk-739b3061":1,"chunk-97dc81f0":1,"chunk-dbeb75fc":1,"chunk-ff260344":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-17639336":"5b948135","chunk-1d804da2":"71efc632","chunk-22e8dd4a":"c7fa0a74","chunk-2608e303":"72a6e65b","chunk-2a76360e":"72a6e65b","chunk-2d0a47fe":"31d6cfe0","chunk-2d21a3d2":"31d6cfe0","chunk-68eb5523":"72a6e65b","chunk-7b896ff4":"72a6e65b","chunk-896bcf10":"31d6cfe0","chunk-1a6ac3c0":"3243a65a","chunk-739b3061":"c00df958","chunk-97dc81f0":"680fb56b","chunk-dbeb75fc":"98a97e6b","chunk-ff260344":"c03e1494"}[e]+".css",o=l.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===o))return t()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){u=m[i],c=u.getAttribute("data-href");if(c===a||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],d.parentNode.removeChild(d),n(s)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(e);var m=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",m.name="ChunkLoadError",m.type=a,m.request=r,n[1](m)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"184d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"generateUserUrl",(function(){return L})),n.d(t,"Login",(function(){return D})),n.d(t,"Register",(function(){return R})),n.d(t,"GetUserTeam",(function(){return j})),n.d(t,"GetUserInfo",(function(){return N})),n.d(t,"ChangeUserInfo",(function(){return P})),n.d(t,"ChangeUserAvatar",(function(){return J})),n.d(t,"ChangeUserPassword",(function(){return B})),n.d(t,"GetUserMessage",(function(){return q})),n.d(t,"ChangeMessageStatus",(function(){return V})),n.d(t,"GetUserTemplate",(function(){return W})),n.d(t,"GetTeamInfo",(function(){return H})),n.d(t,"SearchTeams",(function(){return Q})),n.d(t,"ApplyToTeam",(function(){return K})),n.d(t,"GetTeamMember",(function(){return X})),n.d(t,"SetAdmin",(function(){return Y})),n.d(t,"CancelAdmin",(function(){return Z})),n.d(t,"GetAllApplication",(function(){return ee})),n.d(t,"JudgeApplication",(function(){return te})),n.d(t,"KickOff",(function(){return ne})),n.d(t,"DissolveTeam",(function(){return ae})),n.d(t,"QuitTeam",(function(){return re})),n.d(t,"ChangeTeamInfo",(function(){return oe})),n.d(t,"CreateTeam",(function(){return se})),n.d(t,"NewFile",(function(){return ie})),n.d(t,"GetRecentFile",(function(){return le})),n.d(t,"GetMyFile",(function(){return ue})),n.d(t,"GetTeamFile",(function(){return ce})),n.d(t,"GetCollectedFile",(function(){return me})),n.d(t,"GetDeletedFile",(function(){return de})),n.d(t,"GetAuth",(function(){return fe})),n.d(t,"GetFile",(function(){return pe})),n.d(t,"SaveFile",(function(){return he})),n.d(t,"AbortFile",(function(){return ge})),n.d(t,"CommitComment",(function(){return be})),n.d(t,"GetComment",(function(){return ve})),n.d(t,"EditFile",(function(){return ye})),n.d(t,"CollectFile",(function(){return ke})),n.d(t,"AuthorizeFile",(function(){return Fe})),n.d(t,"DeleteFile",(function(){return Ae})),n.d(t,"TemplateFile",(function(){return Ie})),n.d(t,"RenameTemplate",(function(){return Te})),n.d(t,"DeleteTemplate",(function(){return we})),n.d(t,"RestoreFile",(function(){return xe})),n.d(t,"PerishFile",(function(){return Ce}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.show?e._e():n("div",{staticClass:"background"},[n("transition",{attrs:{name:"el-zoom-in-center"}},[n("router-view")],1)],1),e.show?n("el-container",{staticStyle:{height:"100vh",width:"100%"}},[e.show?n("el-header",{staticStyle:{"z-index":"2000",height:"44px"}},[n("headerly",{key:e.refresh})],1):e._e(),n("el-container",[e.show?n("el-aside",{staticStyle:{background:"#EEEEEE"},attrs:{width:"200px"}},[n("asiderly",{key:e.refresh,staticClass:"asi"})],1):e._e(),n("el-main",{staticStyle:{background:"#F5F5F5",height:"100%",width:"100%"}},[n("transition",{attrs:{name:"el-zoom-in-center"}},[n("router-view")],1)],1)],1)],1):e._e()],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"header"},[a("el-col",{staticStyle:{margin:"0px 0px"},attrs:{span:2}},[a("img",{attrs:{src:n("b311"),alt:""}})]),a("el-col",{attrs:{span:4,offset:12}},[a("el-input",{staticStyle:{margin:"10px 15%",width:"100%"},attrs:{placeholder:"输入团队id或团队名以搜索团队",clearable:"",size:"small"},model:{value:e.sTeam,callback:function(t){e.sTeam=t},expression:"sTeam"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",circle:""},nativeOn:{click:function(t){return t.preventDefault(),e.searchTeams(t)}},slot:"append"})],1)],1),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{margin:"10px 60%"},attrs:{type:"info",size:"small"},nativeOn:{click:function(t){t.preventDefault(),e.dis2=!0}}},[e._v("创建文档和管理模板")])],1),a("el-col",{attrs:{span:1}},[a("el-badge",{staticStyle:{margin:"18px 125%"},attrs:{value:e.UnreadMessages,hidden:e.UnreadMessages<1}},[a("el-popover",{staticStyle:{top:"60px",positon:"fixed"},attrs:{placement:"bottom-start",trigger:"click",width:"400"}},[a("el-link",{attrs:{underline:!1},on:{click:e.changeMessageStatus}},[e._v("全部标记为已读")]),a("el-tabs",[a("el-tab-pane",{staticStyle:{overflow:"auto","max-height":"400px"},attrs:{label:"全部通知"}},e._l(e.messages,(function(t){return a("div",{key:t.id},[a("el-card",{staticStyle:{margin:"0px 0px 5px 0px",height:"80px"},attrs:{shadow:"hover"}},[a("p",{staticStyle:{"font-size":"100%",margin:"-1% 0px"}},[e._v(e._s(t.content))]),a("p",{staticStyle:{color:"#C0C0C0"}},[e._v(e._s(t.time))])])],1)})),0),a("el-tab-pane",{staticStyle:{overflow:"auto","max-height":"400px"},attrs:{label:"未读"}},e._l(e.unReadMessages,(function(t){return a("div",{key:t.id},[a("el-card",{staticStyle:{margin:"0px 0px 5px 0px",height:"80px"},attrs:{shadow:"hover"}},[a("p",{staticStyle:{"font-size":"100%",margin:"-1% 0px"}},[e._v(e._s(t.content))]),a("p",{staticStyle:{color:"#C0C0C0"}},[e._v(e._s(t.time))])])],1)})),0)],1),a("i",{staticClass:"el-icon-bell",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"reference"},slot:"reference"})],1)],1)],1),a("el-col",{attrs:{span:1}},[a("el-dropdown",{staticStyle:{margin:"-4px 100%"}},[a("div",{staticClass:"el-dropdown-link"},[a("p",[a("el-avatar",{attrs:{src:e.avatar,size:30,fit:"fill",username:e.username}},[e._v(e._s(e.username))])],1)]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return t.preventDefault(),e.toUserInfo(t)}}},[e._v("个人信息")]),a("el-dropdown-item",{nativeOn:{click:function(t){return t.preventDefault(),e.Logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),a("el-dialog",{staticStyle:{width:"600px",margin:"auto auto"},attrs:{modal:!1,visible:e.dis0,title:"模板重命名"},on:{"update:visible":function(t){e.dis0=t}}},[a("el-form",{ref:"renameTemplateForm",attrs:{model:e.renameTemplateForm,rules:e.rule0,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"name",align:"left"}},[a("el-input",{attrs:{type:"text",placeholder:"新模板名"},model:{value:e.renameTemplateForm.name,callback:function(t){e.$set(e.renameTemplateForm,"name",t)},expression:"renameTemplateForm.name"}})],1)],1),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium"},nativeOn:{click:function(t){return t.preventDefault(),e.renameTemplate()}}},[e._v("确认")])],1)],1),a("el-dialog",{staticStyle:{width:"1600px",margin:"auto auto"},attrs:{visible:e.dis1,title:"团队搜索结果",modal:!1},on:{"update:visible":function(t){e.dis1=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teams,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"团队Id","min-width":"20%"}}),a("el-table-column",{attrs:{prop:"name",label:"团队名称","min-width":"20%"}}),a("el-table-column",{attrs:{prop:"info",label:"团队简介","min-width":"40"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"15%",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.applyToTeam(t.$index)}}},[e._v("申请加入")])]}}])})],1)],1),a("el-dialog",{staticStyle:{width:"1000px",margin:"auto auto"},attrs:{modal:!1,visible:e.dis2},on:{"update:visible":function(t){e.dis2=t}}},[a("el-tabs",[a("el-tab-pane",{attrs:{label:e.newFileDialogTitle}},[a("el-form",{ref:"newFileForm",attrs:{model:e.newFileForm,rules:e.rule,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"name",align:"left"}},[a("span",{staticStyle:{margin:"0px 20px"}},[e._v("文件名:")]),a("el-input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"文件名"},model:{value:e.newFileForm.name,callback:function(t){e.$set(e.newFileForm,"name",t)},expression:"newFileForm.name"}})],1),a("el-form-item",{attrs:{prop:"templateId",align:"left"}},[a("span",{staticStyle:{margin:"0px 27px"}},[e._v("模板:")]),a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"选择模板"},model:{value:e.newFileForm.templateId,callback:function(t){e.$set(e.newFileForm,"templateId",t)},expression:"newFileForm.templateId"}},e._l(e.templates,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"10px"}},[e._v(e._s("-1"!=t.id?t.id:""))])])})),1)],1)],1),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium"},nativeOn:{click:function(t){return t.preventDefault(),e.newFile(t)}}},[e._v("确认创建")])],1)],1),a("el-tab-pane",{attrs:{label:"管理模板"}},[a("el-table",{attrs:{data:e.templatesData,"default-sort":{prop:"id",order:"ascending"}}},[a("el-table-column",{attrs:{"min-width":"30%",label:"模板编号",prop:"id",sortable:""}}),a("el-table-column",{attrs:{"min-width":"35%",label:"模板名",prop:"name",sortable:""}}),a("el-table-column",{attrs:{"min-width":"35%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.showRenameTemplateDialog(t.row.id,t.row.name)}}},[e._v("重命名")]),a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteTemplate(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)],1)},i=[],l=(n("b0c0"),n("b85c")),u={data:function(){return{dis0:!1,dis1:!1,dis2:!1,sFile:"",sTeam:"",selectTemplateId:null,newFileForm:{name:null,templateId:"-1"},renameTemplateForm:{name:null},templates:[{id:"-1",name:"无"}],teams:null,messages:[],unReadMessages:[],rule0:{name:[{required:!0,message:"新模板名不能为空,最多16个字",max:16,trigger:"blur"}]},rule:{name:[{required:!0,message:"文件名不能为空,最多16个字",max:16,trigger:"blur"}],templateId:[{required:!0,message:"请选择模板",trigger:"blur"}]}}},computed:{username:function(){return this.$store.state.username},templatesData:function(){for(var e=[],t=1;t<this.templates.length;t++)e[t-1]=this.templates[t];return e},avatar:function(){return this.$store.state.avatar},UnreadMessages:function(){return this.unReadMessages.length},newFileDialogTitle:function(){return"1"==this.$store.state.status?"创建团队文档":"创建个人文档"}},methods:{toUserInfo:function(){this.$router.push({path:"/userInfo",query:{userId:this.$store.state.userId}})},Logout:function(){this.$store.dispatch("commitLogout"),this.$router.push("/login")},showRenameTemplateDialog:function(e,t){this.selectTemplateId=e,this.renameTemplateForm.name=t,this.dis0=!0},renameTemplate:function(){var e=this;this.$refs.renameTemplateForm.validate((function(t){if(t){var n={userId:e.$store.state.userId,templateId:e.selectTemplateId,name:e.renameTemplateForm.name};Te(n).then((function(t){1==t.data.result?(console.log("renameTemplate_Succeed: "+n.templateId+" "+n.name),e.$message({type:"success",message:"模板重命名成功"}),e.dis0=!1,e.$router.go(0)):(console.log("renameTemplate_Failed: "+n.templateId+" "+n.name),e.$message.error({message:"模板重命名失败"}))}))}}))},deleteTemplate:function(e){var t=this;we({userId:this.$store.state.userId,templateId:e}).then((function(n){1==n.data.result?(console.log("deleteTemplate_Succeed: "+e),t.$message({type:"success",message:"模板删除成功"}),t.$router.go(0)):(console.log("deleteTemplate_Failed: "+e),t.$message.error({message:"模板删除失败"}))}))},newFile:function(){var e=this;this.$refs.newFileForm.validate((function(t){if(t){var n={userId:e.$store.state.userId,teamId:"-1",name:e.newFileForm.name,templateId:e.newFileForm.templateId};console.log("newFileForm"),console.log(n),"1"==e.$store.state.status&&(n.teamId=e.$store.state.teamId),ie(n).then((function(t){1==t.data.result?(e.$message({type:"success",message:"创建成功"}),e.dis2=!1,e.$router.go(0)):e.$message.error({message:"创建失败,请稍后再试"})}))}}))},searchTeams:function(){var e=this;Q({id:this.$store.state.userId,keyword:this.sTeam}).then((function(t){e.teams=t.data.teams})),this.dis1=!0},searchFiles:function(){},applyToTeam:function(e){var t=this;K({userId:this.$store.state.userId,teamId:this.teams[e].id}).then((function(e){1==e.data.result?(t.$message({type:"success",message:"申请提交成功"}),t.teams=[],t.dis1=!1):t.$message.error("申请提交失败，请稍后再试")}))},changeMessageStatus:function(){var e,t=this,n=[],a=Object(l["a"])(this.unReadMessages);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.push(r.id)}}catch(o){a.e(o)}finally{a.f()}V({id:n}).then((function(e){1==e.data.result?(t.unReadMessages=[],console.log("changeMessageStatus_Succeed"),console.log(n)):(t.$message.error("无法标记消息为已读"),console.log("changeMessageStatus_Failed"),console.log(n))}))}},mounted:function(){var e=this;console.log("unReadMessages"),console.log(this.unReadMessages),q({id:this.$store.state.userId}).then((function(t){e.messages=t.data.messages,console.log("messages"),console.log(e.messages);var n,a=Object(l["a"])(e.messages);try{for(a.s();!(n=a.n()).done;){var r=n.value;"0"==r.status&&e.unReadMessages.push(r)}}catch(o){a.e(o)}finally{a.f()}console.log("unReadMessages"),console.log(e.unReadMessages)})),W({id:this.$store.state.userId}).then((function(t){e.templates=t.data.templates,e.templates.unshift({id:"-1",name:"无"})}))}},c=u,m=(n("8b12"),n("2877")),d=Object(m["a"])(c,s,i,!1,null,"78b36346",null),f=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["0"==this.$store.state.status?n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"background-color":"#EEEEEE","text-color":"#808080","active-text-color":"#000000"},on:{select:e.handleSelect}},[n("el-submenu",{attrs:{index:"sub1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-platform"}),n("span",[e._v("工作台")])]),n("el-menu-item",{attrs:{index:"/home/recentFile"}},[e._v("最近浏览的文档")]),n("el-menu-item",{attrs:{index:"/home/collectedFile"}},[e._v("收藏的文档")]),n("el-menu-item",{attrs:{index:"/home/myFile"}},[e._v("我创建的文档")])],2),n("el-submenu",{attrs:{index:"sub2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-home"}),n("span",[e._v("团队空间")]),n("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{margin:"auto 15%"},on:{click:function(t){e.dialogFormVisible=!0}}})]),e._l(e.teams,(function(t){return[n("el-menu-item",{key:t.id,attrs:{index:t.id,disabled:"-1"==t.id}},[e._v(e._s(t.name))])]}))],2),n("el-menu-item",{attrs:{index:"/home/recyclebin"}},[n("i",{staticClass:"el-icon-delete-solid"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("回收站")])])],1):e._e(),"1"==this.$store.state.status?n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"background-color":"#EEEEEE","text-color":"#808080","active-text-color":"#000000"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"goBack"}},[n("i",{staticClass:"el-icon-back"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("返回")])]),n("el-menu-item",{attrs:{index:"/team/doc"}},[n("i",{staticClass:"el-icon-s-order"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("团队文档")])]),n("el-menu-item",{attrs:{index:"/team/member"}},[n("i",{staticClass:"el-icon-s-custom"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("团队成员")])]),n("el-menu-item",{attrs:{index:"/team/info"}},[n("i",{staticClass:"el-icon-info"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("团队信息")])])],1):e._e(),n("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"创建团队",width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"createTeamInfoForm",attrs:{model:e.createTeamInfoForm,"label-width":"80px",rules:e.rule}},[n("el-form-item",{attrs:{label:"团队名称",prop:"teamName"}},[n("el-input",{attrs:{placeholder:"团队名称",maxlength:"20","show-word-limit":"true",autofocus:"true"},model:{value:e.createTeamInfoForm.teamName,callback:function(t){e.$set(e.createTeamInfoForm,"teamName",t)},expression:"createTeamInfoForm.teamName"}})],1),n("el-form-item",{attrs:{label:"团队简介",prop:"teamInfo"}},[n("el-input",{attrs:{type:"textarea",placeholder:"团队简介",maxlength:"300",resize:"false","show-word-limit":"true",rows:"8"},model:{value:e.createTeamInfoForm.teamInfo,callback:function(t){e.$set(e.createTeamInfoForm,"teamInfo",t)},expression:"createTeamInfoForm.teamInfo"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.submitting},nativeOn:{click:function(t){return t.preventDefault(),e.createTeam(t)}}},[e._v("确认")])],1)],1)],1)},h=[],g=(n("d3b7"),n("25f0"),{inject:["reloadComponent"],data:function(){return{teams:[{id:"-1",name:"空"}],dialogFormVisible:!1,submitting:!1,createTeamInfoForm:{teamName:"",teamInfo:""},rule:{teamName:[{required:!0,message:"请输入团队名称",trigger:"blur"}],teamInfo:[{required:!0,message:"请输入团队简介",trigger:"blur"}]}}},computed:{status:function(){return this.$store.state.status}},methods:{handleSelect:function(e,t){var n;if(n=t.length>1?t[1]:t[0],"goBack"==n.toString())return this.$store.dispatch("commitChangeStatus","0"),this.$store.dispatch("commitChangeTeamId",""),void this.$router.push("/home/recentFile");for(var a=0;a<this.teams.length;a++)if(this.teams[a].id==n.toString())return this.$store.dispatch("commitChangeTeamId",this.teams[a].id),this.$store.dispatch("commitChangeStatus","1"),void this.$router.push("/team");this.$router.push(n.toString())},createTeam:function(){var e=this;this.$refs.createTeamInfoForm.validate((function(t){if(t){e.submitting=!0;var n={id:e.$store.state.userId,teamName:e.createTeamInfoForm.teamName,teamInfo:e.createTeamInfoForm.teamInfo};se(n).then((function(t){1==t.data.result?(e.$message({type:"success",message:"创建团队成功！"}),e.submitting=!1,e.dialogFormVisible=!1,e.$store.dispatch("commitChangeTeamId",t.data.teamId),e.$store.dispatch("commitChangeStatus","1"),e.reloadComponent(),e.$router.push({path:"/team/info"})):e.$message.error({message:"创建团队失败，请稍后再试"})}))}else e.$message.error({message:"请检查输入信息"})}))}},mounted:function(){var e=this;j({id:this.$store.state.userId}).then((function(t){e.teams=t.data.teams,console.log("Asider.vue_teams"),console.log(e.teams.length),console.log(e.teams),(e.teams.length<1||e.teams==[])&&(e.teams=[{id:"-1",name:"空"}])}))}}),b=g,v=(n("e3cc"),Object(m["a"])(b,p,h,!1,null,null,null)),y=v.exports,k=n("5c96"),F=n.n(k),A={name:"app",components:{headerly:f,asiderly:y},provide:function(){return{reloadComponent:this.reloadComponent}},data:function(){return{refresh:1}},computed:{show:function(){return"-1"!=this.$store.state.status}},methods:{reloadComponent:function(){this.refresh=1-this.refresh,console.log("reloaded: Asider Header")}}},I=A,T=(n("034f"),Object(m["a"])(I,r,o,!1,null,null,null)),w=T.exports,x=n("8c4f");a["default"].use(x["a"]);var C=[{path:"/",redirect:"/login"},{path:"/login",name:"登录",component:function(){return n.e("chunk-17639336").then(n.bind(null,"a55b"))}},{path:"/register",name:"注册",component:function(){return n.e("chunk-dbeb75fc").then(n.bind(null,"73cf"))}},{path:"/userInfo",name:"用户信息",component:function(){return Promise.all([n.e("chunk-896bcf10"),n.e("chunk-739b3061")]).then(n.bind(null,"ee96"))}},{path:"/docBrowse",name:"文档查看",component:function(){return Promise.all([n.e("chunk-896bcf10"),n.e("chunk-97dc81f0")]).then(n.bind(null,"56c8"))}},{path:"/docEdit",name:"文档编辑",component:function(){return Promise.all([n.e("chunk-896bcf10"),n.e("chunk-1a6ac3c0")]).then(n.bind(null,"cd8c"))}},{path:"/home",name:"主界面",redirect:"/home/recentFile",component:function(){return n.e("chunk-2d21a3d2").then(n.bind(null,"bb51"))},hasChild:!0,children:[{path:"/home/recentFile",name:"最近浏览的文档",component:function(){return n.e("chunk-2a76360e").then(n.bind(null,"ebe5"))}},{path:"/home/collectedFile",name:"收藏的文档",component:function(){return n.e("chunk-7b896ff4").then(n.bind(null,"6026"))}},{path:"/home/myFile",name:"我创建的文档",component:function(){return n.e("chunk-68eb5523").then(n.bind(null,"520f"))}},{path:"/home/recyclebin",name:"回收站",component:function(){return n.e("chunk-2608e303").then(n.bind(null,"5d3e"))}}]},{path:"/team",name:"团队",redirect:"/team/doc",component:function(){return n.e("chunk-2d0a47fe").then(n.bind(null,"0767"))},hasChild:!0,children:[{path:"/team/doc",name:"团队文档",component:function(){return n.e("chunk-22e8dd4a").then(n.bind(null,"2332"))}},{path:"/team/member",name:"团队成员",component:function(){return n.e("chunk-ff260344").then(n.bind(null,"c11a"))}},{path:"/team/info",name:"团队信息",component:function(){return n.e("chunk-1d804da2").then(n.bind(null,"1fca"))}}]}],S=new x["a"]({mode:"history",base:"/",routes:C}),_=S,$=n("2f62");a["default"].use($["a"]);var O=new $["a"].Store({state:JSON.parse(sessionStorage.getItem("state")||JSON.stringify({status:"-1",userId:"",username:"",avatar:"",teamId:""})),mutations:{Login:function(e,t){console.log("Login"),console.log(t),e.status="0",e.userId=t.userId,e.username=t.username,e.avatar=t.avatar,sessionStorage.setItem("state",JSON.stringify(e))},Logout:function(e){console.log("Logout"),e.status="-1",e.userId=e.username=e.avatar="",sessionStorage.removeItem("state")},ChangeStatus:function(e,t){console.log("ChangeStatus"),console.log(t),e.status=t,sessionStorage.setItem("state",JSON.stringify(e)),console.log(e.status)},ChangeTeamId:function(e,t){console.log("ChangeTeamId"),console.log(t),e.teamId=t,sessionStorage.removeItem("state"),sessionStorage.setItem("state",JSON.stringify(e)),console.log(e.teamId)}},actions:{commitLogin:function(e,t){var n=e.commit;console.log("commitLogin"),console.log(t),n("Login",t)},commitLogout:function(e){var t=e.commit;console.log("commitLogout"),t("Logout")},commitChangeStatus:function(e,t){var n=e.commit;console.log("commitChangeStatus"),console.log(t),n("ChangeStatus",t)},commitChangeTeamId:function(e,t){var n=e.commit;console.log("commitChangeTeamId"),console.log(t),n("ChangeTeamId",t)}},modules:{}}),E=O,G=(n("0fae"),n("bc3a")),M=n.n(G),z=n("b2d8"),U=n.n(z);n("64e1"),n("a753"),n("8096"),n("14e1");a["default"].use(U.a),a["default"].config.productionTip=!1,a["default"].prototype.$http=M.a,M.a.defaults.baseURL="http://60.205.189.66:18888",M.a.defaults.timeout=5e3,M.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",a["default"].use(F.a);var L=function(e){return"http://60.205.189.66:8080/userInfo?userId="+e};a["default"].use(U.a);var D=function(e){return M.a.post("/Login",e)},R=function(e){return M.a.post("/Register",e)},j=function(e){return M.a.post("/GetUserTeam",e)},N=function(e){return M.a.post("/GetUserInfo",e)},P=function(e){return M.a.post("/ChangeUserInfo",e)},J=function(e){return M.a.post("/ChangeUserAvatar",e)},B=function(e){return M.a.post("/ChangeUserPassword",e)},q=function(e){return M.a.post("/GetUserMessage",e)},V=function(e){return M.a.post("/ChangeMessageStatus",e)},W=function(e){return M.a.post("/GetUserTemplate",e)},H=function(e){return M.a.post("/GetTeamInfo",e)},Q=function(e){return M.a.post("/SearchTeams",e)},K=function(e){return M.a.post("/ApplyToTeam",e)},X=function(e){return M.a.post("/GetTeamMember",e)},Y=function(e){return M.a.post("/SetAdmin",e)},Z=function(e){return M.a.post("/CancelAdmin",e)},ee=function(e){return M.a.post("/GetAllApplication",e)},te=function(e){return M.a.post("/JudgeApplication",e)},ne=function(e){return M.a.post("/KickOff",e)},ae=function(e){return M.a.post("/DissolveTeam",e)},re=function(e){return M.a.post("/QuitTeam",e)},oe=function(e){return M.a.post("/ChangeTeamInfo",e)},se=function(e){return M.a.post("/CreateTeam",e)},ie=function(e){return M.a.post("/NewFile",e)},le=function(e){return M.a.post("/GetRecentFile",e)},ue=function(e){return M.a.post("/GetMyFile",e)},ce=function(e){return M.a.post("/GetTeamFile",e)},me=function(e){return M.a.post("/GetCollectedFile",e)},de=function(e){return M.a.post("/GetDeletedFile",e)},fe=function(e){return M.a.post("/GetAuth",e)},pe=function(e){return M.a.post("/GetFile",e)},he=function(e){return M.a.post("/SaveFile",e)},ge=function(e){return M.a.post("/AbortFile",e)},be=function(e){return M.a.post("/CommitComment",e)},ve=function(e){return M.a.post("/GetComment",e)},ye=function(e){return M.a.post("/EditFile",e)},ke=function(e){return M.a.post("/CollectFile",e)},Fe=function(e){return M.a.post("/AuthorizeFile",e)},Ae=function(e){return M.a.post("/DeleteFile",e)},Ie=function(e){return M.a.post("/TemplateFile",e)},Te=function(e){return M.a.post("/RenameTemplate",e)},we=function(e){return M.a.post("/DeleteTemplate",e)},xe=function(e){return M.a.post("/RestoreFile",e)},Ce=function(e){return M.a.post("/PerishFile",e)};_.beforeEach((function(e,t,n){document.querySelector("body").setAttribute("style","margin:0;padding:0");var a=JSON.parse(sessionStorage.getItem("state"))||JSON.stringify({userId:""}),r=a.userId;"/login"==e.path||"/register"==e.path?""!=r&&"undefined"!=typeof r?n({path:"/home"}):n():""==r||"undefined"==typeof r?(F.a.Message.error("请登录"),n({path:"/login"})):n()})),new a["default"]({router:_,store:E,render:function(e){return e(w)}}).$mount("#app")},"85ec":function(e,t,n){},"8b12":function(e,t,n){"use strict";var a=n("184d"),r=n.n(a);r.a},"8ca5":function(e,t,n){},b311:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAyCAAAAAAxCHk/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkCAsTJhhoojmvAAACZklEQVRIx92Xz2sTQRTH+wd1Dh78UVpaQbE06EVLgz+gB39EBUH0JNqD8SoGBb35A+vBgGUFBREvhaCHoiCCBQ89CDkElILuzM5kfj3fJNkkYrLbye4lfg/7XubNfnjz9u1jMwH5aWJsWY0jibrkw6qTRB31Y31PiE6PO6tWQd0iNyuD9dqHVXHFnZycHFL2q36s2LPq3+iILMOYzoklFWdS5sGyUcSFosbkwDIsEpTzUGZlGdCgFZWGaWqzsfB8VOoIT4k2I0tHVIUG88pc+9tEMMyHWcOaBrKxgiuMC0axT/WAqAfLKGttGFHOzOANQ1jzXdXjQJOJUGnKjdXCiwUg3Mva6K1rik0aGhlpGKahLOlYP3rr0iUjJBjuz1Ixq+C0UChsm5POoN5Bo2XPAezv6Es66yfAaTRVZZ+SPXQO3U8Ad6ZdnOGPx845jM5ccl7GsRjAIpoPYB4RomIWiVnkN8A3Z7dSeqKPtWkxL9JyO6yg+tzFfwFMobkIO2LJa2gi0WVhYH033JtdWXFxAS9JezGZNYubjGHuHsvpQ7KvyzoAx08AzDiWdLuqqawFd6cW7iwSMK9TcLbHWgY45Fgv8DKV2hNtlqX2PCFLxeJB8gZKuFIuly+cgRtLa2szZNfnViHmi8ViCuvZ3fsPwIpIfny/gdqEFisIgrf4ArxCG2xDuNFRCgsUPkWwpqnjkXe5V2a/vkdxYW3/mLqegWWpipp9c/hJqVQalYWzwVrYufzm6upifqzKyPX6b1jLtVptbz6s9ifesfzO2K8xZdUT5MtKlBdraz1RX//arGVe//ksZ+IPdynBekaP3BMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDgtMTFUMTE6Mzg6MjQrMDg6MDCVgTQiAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA4LTExVDExOjM4OjI0KzA4OjAw5NyMngAAAABJRU5ErkJggg=="},e3cc:function(e,t,n){"use strict";var a=n("8ca5"),r=n.n(a);r.a}});
//# sourceMappingURL=app.bc830a1c.js.map