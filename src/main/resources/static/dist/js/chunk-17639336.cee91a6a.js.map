{"version":3,"sources":["webpack:///./src/views/Login.vue?6a77","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?f2ad","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?aae1"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","LoginForm","rule","_v","model","value","callback","$$v","$set","expression","loading","nativeOn","$event","preventDefault","submit","toRegister","staticRenderFns","data","user","password","methods","$refs","validate","valid","res","result","type","message","console","log","id","username","avatar","userId","$router","push","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,UAAU,CAACE,IAAI,YAAYC,YAAY,aAAaC,MAAM,CAAC,MAAQR,EAAIS,UAAU,MAAQT,EAAIU,KAAK,cAAc,QAAQ,CAACN,EAAG,KAAK,CAACJ,EAAIW,GAAG,QAAQP,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,SAAS,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,OAAO,YAAc,YAAYI,MAAM,CAACC,MAAOb,EAAIS,UAAc,KAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,UAAW,OAAQM,IAAME,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMI,MAAM,CAACC,MAAOb,EAAIS,UAAkB,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,UAAW,WAAYM,IAAME,WAAW,yBAAyB,GAAGb,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,YAAY,YAAYC,MAAM,CAAC,KAAO,SAAS,MAAQ,GAAG,QAAUR,EAAIkB,SAASC,SAAS,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBrB,EAAIsB,OAAOF,MAAW,CAACpB,EAAIW,GAAG,QAAQP,EAAG,YAAY,CAACG,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIW,SAAS,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBrB,EAAIuB,WAAWH,MAAW,CAACpB,EAAIW,GAAG,SAAS,IAAI,IAAI,IAAI,IAChpCa,EAAkB,G,YCkCtB,GACEC,KADF,WAEI,MAAO,CACLhB,UAAW,GACXS,SAAS,EACTR,KAAM,CACJgB,KAAM,CACd,CACU,UAAV,EACU,QAAV,eACU,QAAV,SAGQC,SAAU,CAClB,CACU,UAAV,EACU,QAAV,SACU,QAAV,YAMEC,QAAS,CACPN,OADJ,WACA,WAOMrB,KAAK4B,MAAMpB,UAAUqB,UAAS,SAApC,GACQ,GAAIC,EAAO,CACT,EAAV,WACU,IAAV,cACU,OAAV,WAAU,CAAV,qBACY,EAAZ,WACmC,GAAnBC,EAAIP,KAAKQ,QACX,EAAd,UACgBC,KAAM,UACNC,QAAS,SAEXC,QAAQC,IAAI,YACZD,QAAQC,IAAIL,EAAIP,KAAKa,IACrBF,QAAQC,IAAIL,EAAIP,KAAKc,UACrBH,QAAQC,IAAIL,EAAIP,KAAKe,QACrB,EAAd,+BACgBC,OAAQT,EAAIP,KAAKa,GACjBC,SAAUP,EAAIP,KAAKc,SACnBC,OAAQR,EAAIP,KAAKe,SAEnB,EAAd,uBACA,iBACc,EAAd,gBACgBL,QAAS,gBAGX,EAAd,gBACgBA,QAAS,uBAOrBZ,WA1CJ,WA2CMtB,KAAKyC,QAAQC,KAAK,gBCrG0Q,I,wBCQ9RC,EAAY,eACd,EACA7C,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E,2CCnBf,yBAAoe,EAAG","file":"js/chunk-17639336.cee91a6a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-main',[_c('el-form',{ref:\"LoginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.LoginForm,\"rules\":_vm.rule,\"label-width\":\"0px\"}},[_c('h2',[_vm._v(\"登录\")]),_c('el-form-item',{attrs:{\"prop\":\"user\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"账号、邮箱或手机\"},model:{value:(_vm.LoginForm.user),callback:function ($$v) {_vm.$set(_vm.LoginForm, \"user\", $$v)},expression:\"LoginForm.user\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.LoginForm.password),callback:function ($$v) {_vm.$set(_vm.LoginForm, \"password\", $$v)},expression:\"LoginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"submitBtn\",attrs:{\"type\":\"danger\",\"round\":\"\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"登录\")]),_c('el-button',{staticClass:\"resetBtn\",attrs:{\"type\":\"primary\",\"round\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.toRegister($event)}}},[_vm._v(\"注册\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-main>\n      <el-form\n        :model=\"LoginForm\"\n        ref=\"LoginForm\"\n        :rules=\"rule\"\n        label-width=\"0px\"\n        class=\"login-form\"\n      >\n        <h2>登录</h2>\n        <el-form-item prop=\"user\">\n          <el-input type=\"text\" v-model=\"LoginForm.user\" placeholder=\"账号、邮箱或手机\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" v-model=\"LoginForm.password\" placeholder=\"密码\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            type=\"danger\"\n            class=\"submitBtn\"\n            round\n            @click.native.prevent=\"submit\"\n            :loading=\"loading\"\n          >登录</el-button>\n          <el-button type=\"primary\" class=\"resetBtn\" round @click.native.prevent=\"toRegister\">注册</el-button>\n        </el-form-item>\n      </el-form>\n    </el-main>\n  </div>\n</template>\n<script>\nimport { Login } from \"../main\";\nexport default {\n  data() {\n    return {\n      LoginForm: {},\n      loading: false,\n      rule: {\n        user: [\n          {\n            required: true,\n            message: \"账号、邮箱或手机不能为空\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    submit() {\n      /*this.$store.dispatch(\"commitLogin\", {\n        userId: \"123\",\n        username: this.LoginForm.user,\n        avatar: \"aaa\",\n      });\n      this.$router.push(\"/home\");*/\n      this.$refs.LoginForm.validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          let params = this.LoginForm;\n          Login(params).then((res) => {\n            this.loading = false;\n            if (res.data.result == true) {\n              this.$message({\n                type: \"success\",\n                message: \"登录成功\",\n              });\n              console.log(\"logining\");\n              console.log(res.data.id);\n              console.log(res.data.username);\n              console.log(res.data.avatar);\n              this.$store.dispatch(\"commitLogin\", {\n                userId: res.data.id,\n                username: res.data.username,\n                avatar: res.data.avatar,\n              });\n              this.$router.push(\"/home\");\n            } else if (res.data.result == false) {\n              this.$message.error({\n                message: \"账号、手机号或密码错误\",\n              });\n            } else {\n              this.$message.error({\n                message: \"登录失败，请稍后再试\",\n              });\n            }\n          });\n        }\n      });\n    },\n    toRegister() {\n      this.$router.push(\"/register\");\n    },\n  },\n};\n</script>\n<style scoped>\n.login-form {\n  margin: 5% auto;\n  width: 310px;\n  background: #fff;\n  box-shadow: 0 0 8px #b4bccc;\n  padding: 20px 30px 30px 30px;\n  border-radius: 10px;\n}\n.submitBtn {\n  width: 65%;\n}\n.plink {\n  font-size: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=70996cd0&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=70996cd0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70996cd0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=70996cd0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=70996cd0&scoped=true&lang=css&\""],"sourceRoot":""}